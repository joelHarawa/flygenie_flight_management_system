{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Joel/WebstormProjects/flygenieproj/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Joel/WebstormProjects/flygenieproj/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/Joel/WebstormProjects/flygenieproj/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _taggedTemplateLiteral from \"C:/Users/Joel/WebstormProjects/flygenieproj/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\Joel\\\\WebstormProjects\\\\flygenieproj\\\\client\\\\src\\\\components\\\\FlightList.jsx\",\n  _templateObject,\n  _templateObject2,\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { AuthContext } from \"../context/authContext\";\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar UList = styled.ul(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    margin: 0;\\n    padding-left: 0;\\n    padding-top: 20px;\\n\"])));\n_c = UList;\nvar List = styled.li(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    border: 1px solid black;\\n    text-decoration: none;\\n    list-style-type: none;\\n    margin: 0;\\n    padding: 3px;\\n    text-align: left;\\n\"])));\n_c2 = List;\nvar FlightList = function FlightList() {\n  _s();\n  var _useContext = useContext(AuthContext),\n    currentCustomer = _useContext.currentCustomer;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    tickets = _useState2[0],\n    setTickets = _useState2[1];\n  useEffect(function () {\n    var fetchFlights = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"/ticket/getTicketPurchases?email=\".concat(currentCustomer.email));\n            case 3:\n              response = _context.sent;\n              setTickets(response.data);\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n      return function fetchFlights() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchFlights();\n  });\n  return /*#__PURE__*/_jsxDEV(UList, {\n    children: tickets.map(function (ticket) {\n      return /*#__PURE__*/_jsxDEV(List, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [ticket.airline_name, \" \", ticket.flight_no]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Departure: \", ticket.departure_airport, \" \", ticket.departure_time, \" \", new Date(ticket.departure_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric'\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Arrival: \", ticket.arrival_airport, \" \", ticket.arrival_time, \" \", new Date(ticket.arrival_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric'\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Total: $\", ticket.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, _this)]\n      }, ticket.ticket_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, _this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, _this);\n};\n_s(FlightList, \"fYVQnv3Pu64k/cJ49cqgBCUhETA=\");\n_c3 = FlightList;\nexport default FlightList;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"UList\");\n$RefreshReg$(_c2, \"List\");\n$RefreshReg$(_c3, \"FlightList\");","map":{"version":3,"names":["React","useContext","axios","useState","AuthContext","useEffect","styled","jsxDEV","_jsxDEV","UList","ul","_templateObject","_taggedTemplateLiteral","_c","List","li","_templateObject2","_c2","FlightList","_s","_useContext","currentCustomer","_useState","_useState2","_slicedToArray","tickets","setTickets","fetchFlights","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","email","sent","data","t0","console","log","stop","apply","arguments","children","map","ticket","airline_name","flight_no","fileName","_jsxFileName","lineNumber","columnNumber","_this","departure_airport","departure_time","Date","departure_date","toLocaleDateString","month","day","year","arrival_airport","arrival_time","arrival_date","price","ticket_id","_c3","$RefreshReg$"],"sources":["C:/Users/Joel/WebstormProjects/flygenieproj/client/src/components/FlightList.jsx"],"sourcesContent":["import React, {useContext} from \"react\";\r\nimport axios from \"axios\";\r\nimport {useState} from \"react\";\r\nimport {AuthContext} from \"../context/authContext\";\r\nimport {useEffect} from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst UList = styled.ul`\r\n    margin: 0;\r\n    padding-left: 0;\r\n    padding-top: 20px;\r\n`;\r\n\r\nconst List = styled.li`\r\n    border: 1px solid black;\r\n    text-decoration: none;\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 3px;\r\n    text-align: left;\r\n`;\r\n\r\nconst FlightList = () => {\r\n    const {currentCustomer} = useContext(AuthContext);\r\n    const [tickets, setTickets] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchFlights = async () => {\r\n            try {\r\n                const response = await axios.get(`/ticket/getTicketPurchases?email=${currentCustomer.email}`);\r\n                setTickets(response.data);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        fetchFlights();\r\n    })\r\n\r\n    return (\r\n        <UList>\r\n            {tickets.map((ticket) => (\r\n                <List key={ticket.ticket_id}>\r\n                    <div>{ticket.airline_name} {ticket.flight_no}</div>\r\n                    <div>Departure: {ticket.departure_airport} {ticket.departure_time} {new Date(ticket.departure_date).toLocaleDateString('en-US', {\r\n                        month: 'short',\r\n                        day: 'numeric',\r\n                        year: 'numeric'\r\n                    })}</div>\r\n                    <div>Arrival: {ticket.arrival_airport} {ticket.arrival_time} {new Date(ticket.arrival_date).toLocaleDateString('en-US', {\r\n                        month: 'short',\r\n                        day: 'numeric',\r\n                        year: 'numeric'\r\n                    })}</div>\r\n                    <div>Total: ${ticket.price}</div>\r\n                </List>\r\n            ))}\r\n        </UList>\r\n    );\r\n}\r\n\r\nexport default FlightList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}