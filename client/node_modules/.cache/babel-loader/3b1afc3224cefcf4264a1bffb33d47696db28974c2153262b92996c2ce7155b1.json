{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Joel/WebstormProjects/flygenieproj/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Joel/WebstormProjects/flygenieproj/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/Joel/WebstormProjects/flygenieproj/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\Joel\\\\WebstormProjects\\\\flygenieproj\\\\client\\\\src\\\\context\\\\authContext.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var AuthContext = /*#__PURE__*/createContext();\nexport var AuthContextProvider = function AuthContextProvider(_ref) {\n  _s();\n  var children = _ref.children;\n  var _useState = useState(JSON.parse(localStorage.getItem(\"user\")) || null),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentCustomer = _useState2[0],\n    setCustomer = _useState2[1];\n  var _useState3 = useState(JSON.parse(localStorage.getItem(\"staff\")) || null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currentStaff = _useState4[0],\n    setStaff = _useState4[1];\n  var login = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(inputs) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.post(\"/auth/login\", inputs);\n          case 2:\n            response = _context.sent;\n            setCustomer(response.data);\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function login(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var logout = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(inputs) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return axios.post(\"/auth/logout\", inputs);\n          case 2:\n            response = _context2.sent;\n            setCustomer(null);\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function logout(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var staffLogin = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(inputs) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return axios.post(\"/auth/staffLogin\", inputs);\n          case 2:\n            response = _context3.sent;\n            setStaff(response.data);\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return function staffLogin(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var staffLogout = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(inputs) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return axios.post(\"/auth/staffLogout\", inputs);\n          case 2:\n            response = _context4.sent;\n            setStaff(null);\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }));\n    return function staffLogout(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    localStorage.setItem(\"user\", JSON.stringify(currentCustomer));\n  }, [currentCustomer]);\n  useEffect(function () {\n    localStorage.setItem(\"staff\", JSON.stringify(currentStaff));\n  }, [currentStaff]);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      currentCustomer: currentCustomer,\n      login: login,\n      logout: logout,\n      currentStaff: currentStaff,\n      staffLogin: staffLogin,\n      staffLogout: staffLogout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, _this);\n};\n_s(AuthContextProvider, \"8kmejyRPxwmPd8pz7gbpfamG+28=\");\n_c = AuthContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","axios","jsxDEV","_jsxDEV","AuthContext","AuthContextProvider","_ref","_s","children","_useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","currentCustomer","setCustomer","_useState3","_useState4","currentStaff","setStaff","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inputs","response","wrap","_callee$","_context","prev","next","post","sent","data","stop","_x","apply","arguments","logout","_ref3","_callee2","_callee2$","_context2","_x2","staffLogin","_ref4","_callee3","_callee3$","_context3","_x3","staffLogout","_ref5","_callee4","_callee4$","_context4","_x4","setItem","stringify","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_this","_c","$RefreshReg$"],"sources":["C:/Users/Joel/WebstormProjects/flygenieproj/client/src/context/authContext.js"],"sourcesContent":["import {createContext, useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = ({children}) => {\r\n    const [currentCustomer, setCustomer] = useState(JSON.parse(localStorage.getItem(\"user\")) || null)\r\n    const [currentStaff, setStaff] = useState(JSON.parse(localStorage.getItem(\"staff\")) || null)\r\n    const login = async (inputs) => {\r\n        const response = await axios.post(\"/auth/login\", inputs);\r\n        setCustomer(response.data);\r\n    }\r\n\r\n    const logout = async (inputs) => {\r\n        const response = await axios.post(\"/auth/logout\", inputs);\r\n        setCustomer(null);\r\n    }\r\n\r\n    const staffLogin = async (inputs) => {\r\n        const response = await axios.post(\"/auth/staffLogin\", inputs);\r\n        setStaff(response.data);\r\n    }\r\n\r\n    const staffLogout = async (inputs) => {\r\n        const response = await axios.post(\"/auth/staffLogout\", inputs);\r\n        setStaff(null);\r\n    }\r\n\r\n    useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(currentCustomer));\r\n    }, [currentCustomer])\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"staff\", JSON.stringify(currentStaff));\r\n    }, [currentStaff])\r\n\r\n    return (\r\n        <AuthContext.Provider value={{currentCustomer, login, logout, currentStaff, staffLogin, staffLogout}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n        );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}